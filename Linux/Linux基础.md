# LinuxåŸºç¡€çŸ¥è¯†



## ç™»å½•ä¸ç”¨æˆ·

ç™»å½•ï¼šè¾“å…¥ç”¨æˆ·åå’Œå¯†ç 

æ³¨é”€ï¼š

- è¾“å…¥logout
- Ctrl + D

ç”¨æˆ·æç¤ºï¼š

- è¶…çº§ç”¨æˆ·ï¼š**#**
- æ™®é€šç”¨æˆ·ï¼š**$**



## å…³æœºå’Œé‡å¯

â€‹	å…³æœºå’Œé‡å¯å…¶å®éƒ½æ˜¯åˆ‡æ¢è¿è¡Œçº§åˆ«

å…³æœºï¼š

- init 0
- halt
- shutdown -h +5

é‡å¯ï¼š

- init 6
- reboot
- shutdown -r +5

shutdownå‘½ä»¤ï¼š

- -k åªæ˜¯è­¦å‘Šï¼Œä¸å®é™…å…³æœº
- -r å…³æœºåé‡æ–°å¯åŠ¨
- -h å…³é—­ç³»ç»Ÿ



```
ctrl + æ”¾å¤§å­—ä½“ 
ctrl - å‡å°å­—ä½“
```



# Linuxå¸¸ç”¨å‘½ä»¤

| å‘½ä»¤         | è‹±æ–‡                 | ä½œç”¨                   |
| ------------ | -------------------- | ---------------------- |
| ls           | list                 | æŸ¥çœ‹å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹ |
| pwd          | print work directory | è¾“å‡ºå½“å‰ç›®å½•è·¯å¾„       |
| cd ç›®å½•å    | change directory     | åˆ‡æ¢æ–‡ä»¶å¤¹             |
| touch æ–‡ä»¶å |                      | å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ–°å»º   |
| mkdir ç›®å½•å | make directory       | åˆ›å»ºç›®å½•               |
| rm æ–‡ä»¶å    | remove               | åˆ é™¤æ–‡ä»¶å¤¹             |
| clear        |                      | æ¸…å±                   |
|              |                      |                        |



## æ–‡ä»¶å’Œç›®å½•å‘½ä»¤

| å‘½ä»¤                                                    | è‹±æ–‡        | ä½œç”¨                                                        |
| ------------------------------------------------------- | ----------- | ----------------------------------------------------------- |
| ls                                                      |             |                                                             |
| cd                                                      |             |                                                             |
| touch                                                   |             |                                                             |
| rm                                                      |             |                                                             |
| mkdir                                                   |             |                                                             |
| [ cp](https://www.runoob.com/linux/linux-comm-cp.html)  | copy file   | å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•                                              |
| [ mv](https://www.runoob.com/linux/linux-comm-mv.html)  | move file   | æ–‡ä»¶æˆ–ç›®å½•æ”¹åã€æˆ–å°†æ–‡ä»¶æˆ–ç›®å½•ç§»å…¥å…¶å®ƒä½ç½®                  |
| [cat](https://www.runoob.com/linux/linux-comm-cat.html) | concatenate | æŸ¥çœ‹å’Œè¿æ¥æ–‡ä»¶                                              |
| more                                                    |             | ç±»ä¼¼ cat ï¼Œä¸è¿‡ä¼šä»¥ä¸€é¡µä¸€é¡µçš„å½¢å¼æ˜¾ç¤ºï¼Œæ›´æ–¹ä¾¿ä½¿ç”¨è€…é€é¡µé˜…è¯» |
| .                                                       |             | å½“å‰ç›®å½•                                                    |
| ..                                                      |             | ä¸Šçº§ç›®å½•                                                    |
|                                                         |             | ä»¥ . å¼€å¤´çš„æ–‡ä»¶æ˜¯éšè—æ–‡ä»¶ï¼Œéœ€è¦å‚æ•° -a æ‰èƒ½çœ‹åˆ°             |



### lså¸¸ç”¨é€‰é¡¹&é€šé…ç¬¦ä½¿ç”¨

| å‚æ•° | å«ä¹‰                                             |
| ---- | ------------------------------------------------ |
| -a   | æ˜¾ç¤ºæŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•ä¸æ–‡ä»¶ï¼ŒåŒ…æ‹¬**éšè—æ–‡ä»¶** |
| -l   | ä»¥åˆ—è¡¨çš„æ–¹å¼æ˜¾ç¤ºæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯                   |
| -h   | æ˜¾ç¤ºæ–‡ä»¶å¤§å°ï¼ˆKï¼ŒMï¼ŒGï¼‰                          |

| é€šé…ç¬¦ | å«ä¹‰                       |
| ------ | -------------------------- |
| *      | ä»£è¡¨ä»»æ„ä¸ªæ•°ä¸ªå­—ç¬¦         |
| ï¼Ÿ     | ä»£è¡¨ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œè‡³å°‘ä¸€ä¸ª |
| []     | å¯ä»¥åŒ¹é…å­—ç¬¦ç»„ä¸­çš„ä»»æ„ä¸€ä¸ª |
| [abc]  | åŒ¹é…aï¼Œbï¼Œcä¸­çš„ä»»æ„ä¸€ä¸ª    |
| [a-e]  | åŒ¹é…ä»aåˆ°eèŒƒå›´ä¸­çš„ä»»æ„ä¸€ä¸ª |



### cd

| å‘½ä»¤       | å«ä¹‰                                     |
| ---------- | ---------------------------------------- |
| cdï¼ˆcd ~ï¼‰ | åˆ‡æ¢åˆ°å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•ï¼ˆ/home/ç”¨æˆ·ç›®å½•ï¼‰ |
| cd .       | ä¿æŒåœ¨å½“å‰ç›®å½•                           |
| cd ..      | åˆ‡æ¢åˆ°ä¸Šçº§ç›®å½•                           |
| cd -       | æœ€è¿‘ä¸¤æ¬¡ç›®å½•ä¹‹é—´æ¥å›åˆ‡æ¢                 |
|            |                                          |



### rm

- ä½¿ç”¨æ—¶æ³¨æ„ï¼Œrmåˆ é™¤çš„æ–‡ä»¶ï¼ˆå¤¹ï¼‰**æ— æ³•æ¢å¤**ï¼

| é€‰é¡¹ | å«ä¹‰                                                   |
| ---- | ------------------------------------------------------ |
| -f   | å¼ºåˆ¶åˆ é™¤ï¼Œæ— æç¤ºä¿¡æ¯                                   |
| -r   | é€’å½’åœ°åˆ é™¤ç›®å½•ä¸‹çš„å†…å®¹ï¼Œ**åˆ é™¤æ–‡ä»¶å¤¹**æ—¶å¿…é¡»ä½¿ç”¨æ­¤å‚æ•° |





## æ‹·è´å’Œç§»åŠ¨æ–‡ä»¶

| å‘½ä»¤               | è‹±æ–‡ | ä½œç”¨                     |
| ------------------ | ---- | ------------------------ |
| tree [ç›®å½•å]      | tree | è¾“å‡ºç›®å½•ç»“æ„             |
| cp æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶ | copy | å¤åˆ¶æ–‡ä»¶æˆ–è€…ç›®å½•         |
| mv æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶ | move | ç§»åŠ¨ï¼ˆé‡å‘½åï¼‰æ–‡ä»¶æˆ–ç›®å½• |
|                    |      |                          |



### tree

| é€‰é¡¹ | å«ä¹‰       |
| ---- | ---------- |
| -d   | åªæ˜¾ç¤ºç›®å½• |



### cp

| é€‰é¡¹ | å«ä¹‰                        |
| ---- | --------------------------- |
| -i   | è¦†ç›–æ–‡ä»¶å‰æœ‰æç¤º            |
| -r   | å¤åˆ¶ç›®å½•æ—¶ä½¿ç”¨ï¼ˆç±»ä¼¼rm -rï¼‰ |



### mv

| é€‰é¡¹ | å«ä¹‰           |
| ---- | -------------- |
| -i   | è¦†ç›–æ–‡ä»¶å‰æç¤º |



## æŸ¥çœ‹æ–‡ä»¶å†…å®¹

| å‘½ä»¤                | è‹±æ–‡        | ä½œç”¨                                 |
| ------------------- | ----------- | ------------------------------------ |
| cat æ–‡ä»¶å          | concatenate | æŸ¥çœ‹ï¼Œè¿½åŠ æ–‡ä»¶å†…å®¹ï¼Œåˆ›å»ºï¼Œåˆå¹¶ï¼Œæ–‡ä»¶ |
| more æ–‡ä»¶å         | more        | å¯ä»¥åˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹                 |
| grep æœç´¢æ–‡æœ¬æ–‡ä»¶å | grep        | æœç´¢æ–‡æœ¬æ–‡ä»¶å†…å®¹                     |
|                     |             |                                      |



### cat

| é€‰é¡¹ | å«ä¹‰         |
| ---- | ------------ |
| -b   | å¯¹éç©ºè¡Œç¼–å· |
| -n   | å¯¹æ‰€æœ‰è¡Œç¼–å· |



### more

| æ“ä½œå¥  | åŠŸèƒ½           |
| ------- | -------------- |
| ç©ºæ ¼é”®  | æ˜¾ç¤ºä¸‹ä¸€é¡µ     |
| Enteré”® | æ»šåŠ¨ä¸€è¡Œ       |
| b       | å›æ»šä¸€é¡µ       |
| f       | å‰æ»šä¸€é¡µ       |
| q       | é€€å‡º           |
| /word   | æœç´¢wordå­—ç¬¦ä¸² |



### grepï¼ˆå¼ºå¤§çš„æ–‡æœ¬æœç´¢ï¼‰

- grepæ˜¯Linuxä¸­ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·

- grepå…è®¸å¯¹æ–‡æœ¬æ–‡ä»¶è¿›è¡Œæ­£åˆ™è¡¨è¾¾å¼æŸ¥æ‰¾

| é€‰é¡¹ | å«ä¹‰                               |
| ---- | ---------------------------------- |
| -n   | æ˜¾ç¤ºåŒ¹é…è¡Œä»¥åŠè¡Œå·                 |
| -v   | æ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œï¼ˆå–åï¼‰ |
| -i   | å¿½ç•¥å¤§å°å†™                         |
|      |                                    |

- å¸¸ç”¨çš„æ¨¡å¼æŸ¥æ‰¾

| å‚æ•° | å«ä¹‰                |
| ---- | ------------------- |
| ^a   | æœç´¢ä»¥a**å¼€å¤´**çš„è¡Œ |
| b$   | æœç´¢ä»¥b**ç»“å°¾**çš„è¡Œ |



## å…¶ä»–



### echoï¼ˆï¼ï¼‰

- åœ¨ç»ˆç«¯ä¸­æ˜¾ç¤ºå‚æ•°æŒ‡å®šçš„æ–‡å­—ï¼Œé€šå¸¸å’Œ**é‡å®šå‘**ç»“åˆä½¿ç”¨



### é‡å®šå‘ï¼ˆï¼ï¼‰

- Linuxå¯ä»¥å°†å‘½ä»¤æ‰§è¡Œç»“æœé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶
- é‡å®šå‘å°†åœ¨**ç»ˆç«¯ä¸Šçš„å†…å®¹ è¾“å‡º/è¿½åŠ **åˆ°æŒ‡å®šæ–‡ä»¶ä¸­

| æ“ä½œé”® | ä½œç”¨                       |
| ------ | -------------------------- |
| >      | è¾“å‡ºï¼Œä¼šè¦†ç›–æ–‡ä»¶åŸæœ‰çš„å†…å®¹ |
| >>     | å°†å†…å®¹è¿½åŠ åˆ°å·²æœ‰æ–‡ä»¶çš„æœ«å°¾ |



### ç®¡é“ |

- Linuxå¯ä»¥å°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡º é€šè¿‡ç®¡é“ ä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ 

å¸¸ç”¨çš„ç®¡é“å‘½ä»¤ï¼š

- moreï¼šåˆ†å±æ˜¾ç¤ºå†…å®¹
- grepï¼šåœ¨å‘½ä»¤æ‰§è¡Œç»“æœçš„åŒæ—¶æŸ¥è¯¢æŒ‡å®šæ–‡æœ¬







# vimç¼–è¾‘å™¨

ä¸‰ç§æ¨¡å¼ï¼š

| æ¨¡å¼     | å«ä¹‰                                         |
| -------- | -------------------------------------------- |
| å‘½ä»¤æ¨¡å¼ | æ‰€æœ‰è¾“å…¥ä¸ºå‘½ä»¤ï¼Œæ‰§è¡Œä¸åŒçš„åŠŸèƒ½ï¼Œæ— æ³•æ–‡æœ¬ç¼–è¾‘ |
| è¾“å…¥æ¨¡å¼ | å¯è‡ªç”±ç¼–è¾‘                                   |
| åº•çº¿æ¨¡å¼ | ä»¥ ï¼šå¼€å§‹ï¼Œç”¨äºæ–‡ä»¶çš„ä¿å­˜å’Œé€€å‡º              |

![image-20250227155537040](C:\dataD\SCUStudy\Interesting-small-Knowledge\Linux\Linuxå¸¸ç”¨å‘½ä»¤.assets\image-20250227155537040.png)



**å…¶ä»–ç­‰ç”¨åˆ°å†è¡¥å……**





---

# å¤‡ä»½å’Œå‹ç¼©å‘½ä»¤æ€»ç»“



## å¸¸ç”¨çš„å¤‡ä»½å‹ç¼©å‘½ä»¤

- tar æ–‡ä»¶,ç›®å½•æ‰“/è§£åŒ…ï¼š
  - tar -zcvf myusr.tar.gz mydoc å°†mydocç›®å½•æ‰“åŒ…åå‹ç¼©,è°ƒç”¨gzipå‹ç¼©å·¥å…·
  - tar -zxvf myusr.tar.gz è§£å‹
- gzip å‹ç¼©æˆ–è§£å‹æ–‡ä»¶ç›®å½•,åç¼€ä¸º .gz
- compress å‹ç¼©æˆ–è§£å‹æ–‡ä»¶ç›®å½•,åç¼€ä¸º .Z
- bzip2 å‹ç¼©æˆ–è§£å‹æ–‡ä»¶ç›®å½•,åç¼€ä¸º .bz2
- zcat æ˜¾ç¤ºå‹ç¼©çš„æ–‡æœ¬æ–‡ä»¶çš„å†…å®¹
- xz å‹ç¼©æˆ–è§£å‹æ–‡ä»¶ç›®å½•,åç¼€ä¸º .xz



## 1. tarï¼ˆå½’æ¡£å·¥å…·ï¼‰

### ä½œç”¨
- åˆ›å»ºã€æå–æˆ–æŸ¥çœ‹å½’æ¡£æ–‡ä»¶ï¼ˆ`.tar` æ–‡ä»¶ï¼‰ã€‚
- å¯ä»¥ä¸å‹ç¼©å·¥å…·ï¼ˆå¦‚ `gzip`ã€`bzip2`ï¼‰ç»“åˆä½¿ç”¨ï¼Œåˆ›å»ºå‹ç¼©çš„å½’æ¡£æ–‡ä»¶ã€‚

### å¸¸ç”¨å‚æ•°
- **`-c`**ï¼šåˆ›å»ºæ–°çš„å½’æ¡£æ–‡ä»¶ã€‚
- **`-x`**ï¼šæå–å½’æ¡£æ–‡ä»¶ä¸­çš„å†…å®¹ã€‚
- **`-t`**ï¼šæŸ¥çœ‹å½’æ¡£æ–‡ä»¶ä¸­çš„å†…å®¹åˆ—è¡¨ã€‚
- **`-f`**ï¼šæŒ‡å®šå½’æ¡£æ–‡ä»¶çš„åç§°ã€‚
- **`-z`**ï¼šä¸ `gzip` ç»“åˆï¼Œåˆ›å»ºæˆ–è§£å‹ `.tar.gz` æ–‡ä»¶ã€‚
- **`-j`**ï¼šä¸ `bzip2` ç»“åˆï¼Œåˆ›å»ºæˆ–è§£å‹ `.tar.bz2` æ–‡ä»¶ã€‚
- **`-v`**ï¼šåœ¨æ“ä½œè¿‡ç¨‹ä¸­æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ã€‚
- **`-C`**ï¼šæŒ‡å®šæå–æ–‡ä»¶çš„ç›®æ ‡ç›®å½•ã€‚

### ç¤ºä¾‹
```bash
tar -cvf archive.tar file1.txt file2.txt  # åˆ›å»ºå½’æ¡£æ–‡ä»¶ archive.tar
tar -xvf archive.tar                      # æå–å½’æ¡£æ–‡ä»¶ä¸­çš„å†…å®¹
tar -tvf archive.tar                      # æŸ¥çœ‹å½’æ¡£æ–‡ä»¶ä¸­çš„å†…å®¹åˆ—è¡¨

tar -czvf archive.tar.gz file1.txt file2.txt  # åˆ›å»ºå‹ç¼©çš„å½’æ¡£æ–‡ä»¶ (.tar.gz)
tar -xzvf archive.tar.gz                      # è§£å‹ .tar.gz æ–‡ä»¶

tar -cjvf archive.tar.bz2 file1.txt file2.txt  # åˆ›å»ºå‹ç¼©çš„å½’æ¡£æ–‡ä»¶ (.tar.bz2)
tar -xjvf archive.tar.bz2                      # è§£å‹ .tar.bz2 æ–‡ä»¶

tar -cvf archive.tar -C /source/ .             # å½’æ¡£æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
tar -xvf archive.tar -C /target/               # æå–å½’æ¡£æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•
```

## 2. gzipï¼ˆå‹ç¼©å·¥å…·ï¼‰

### ä½œç”¨
- å‹ç¼©æˆ–è§£å‹æ–‡ä»¶ï¼Œç”Ÿæˆ `.gz` æ–‡ä»¶ã€‚

### å¸¸ç”¨å‚æ•°
- **æ— å‚æ•°**ï¼šå‹ç¼©æ–‡ä»¶ï¼Œç”Ÿæˆ `.gz` æ–‡ä»¶ã€‚
- **`-d`**ï¼šè§£å‹ `.gz` æ–‡ä»¶ã€‚
- **`-k`**ï¼šå‹ç¼©æ–‡ä»¶æ—¶ä¿ç•™åŸå§‹æ–‡ä»¶ã€‚
- **`-f`**ï¼šå¼ºåˆ¶å‹ç¼©æˆ–è§£å‹ï¼Œå³ä½¿ç›®æ ‡æ–‡ä»¶å·²å­˜åœ¨ä¹Ÿä¸æç¤ºã€‚
- **`-v`**ï¼šæ˜¾ç¤ºå‹ç¼©æˆ–è§£å‹è¿‡ç¨‹ä¸­çš„è¯¦ç»†ä¿¡æ¯ã€‚

### ç¤ºä¾‹
```bash
gzip file.txt          # å‹ç¼©æ–‡ä»¶ file.txtï¼Œç”Ÿæˆ file.txt.gz
gzip -d file.txt.gz    # è§£å‹æ–‡ä»¶ file.txt.gz
gzip -k file.txt       # å‹ç¼©æ–‡ä»¶ file.txt å¹¶ä¿ç•™åŸå§‹æ–‡ä»¶
gzip -f file.txt       # å¼ºåˆ¶å‹ç¼©æ–‡ä»¶ï¼Œå³ä½¿ç›®æ ‡æ–‡ä»¶å·²å­˜åœ¨ä¹Ÿä¸æç¤º
gzip -v file.txt       # å‹ç¼©æ–‡ä»¶å¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
```

## 3. bzip2ï¼ˆå‹ç¼©å·¥å…·ï¼‰

### ä½œç”¨
- å‹ç¼©æˆ–è§£å‹æ–‡ä»¶ï¼Œç”Ÿæˆ `.bz2` æ–‡ä»¶ã€‚

### å¸¸ç”¨å‚æ•°
- **æ— å‚æ•°**ï¼šå‹ç¼©æ–‡ä»¶ï¼Œç”Ÿæˆ `.bz2` æ–‡ä»¶ã€‚
- **`-d`**ï¼šè§£å‹ `.bz2` æ–‡ä»¶ã€‚
- **`-k`**ï¼šå‹ç¼©æ–‡ä»¶æ—¶ä¿ç•™åŸå§‹æ–‡ä»¶ã€‚
- **`-f`**ï¼šå¼ºåˆ¶å‹ç¼©æˆ–è§£å‹ï¼Œå³ä½¿ç›®æ ‡æ–‡ä»¶å·²å­˜åœ¨ä¹Ÿä¸æç¤ºã€‚
- **`-v`**ï¼šæ˜¾ç¤ºå‹ç¼©æˆ–è§£å‹è¿‡ç¨‹ä¸­çš„è¯¦ç»†ä¿¡æ¯ã€‚

### ç¤ºä¾‹
```bash
bzip2 file.txt         # å‹ç¼©æ–‡ä»¶ file.txtï¼Œç”Ÿæˆ file.txt.bz2
bzip2 -d file.txt.bz2  # è§£å‹æ–‡ä»¶ file.txt.bz2
bzip2 -k file.txt      # å‹ç¼©æ–‡ä»¶ file.txt å¹¶ä¿ç•™åŸå§‹æ–‡ä»¶
bzip2 -f file.txt      # å¼ºåˆ¶å‹ç¼©æ–‡ä»¶ï¼Œå³ä½¿ç›®æ ‡æ–‡ä»¶å·²å­˜åœ¨ä¹Ÿä¸æç¤º
bzip2 -v file.txt      # å‹ç¼©æ–‡ä»¶å¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
```

---

### å¸¸è§ç»„åˆä½¿ç”¨ç¤ºä¾‹
- **åˆ›å»º `.tar.gz` æ–‡ä»¶**ï¼š
  ```bash
  tar -czvf archive.tar.gz /path/to/directory_or_file
  ```
- **è§£å‹ `.tar.gz` æ–‡ä»¶**ï¼š
  ```bash
  tar -xzvf archive.tar.gz -C /target_directory
  ```
- **åˆ›å»º `.tar.bz2` æ–‡ä»¶**ï¼š
  ```bash
  tar -cjvf archive.tar.bz2 /path/to/directory_or_file
  ```
- **è§£å‹ `.tar.bz2` æ–‡ä»¶**ï¼š
  ```bash
  tar -xjvf archive.tar.bz2 -C /target_directory
  ```

---





# ç”¨æˆ·å’Œç”¨æˆ·ç»„



## rootç”¨æˆ·

rootç”¨æˆ·ï¼ˆè¶…çº§ç”¨æˆ·ï¼‰æ‹¥æœ‰æœ€å¤§çš„ç³»ç»Ÿæ“ä½œæƒé™ã€‚

- åœ¨homeç›®å½•å¤–ï¼Œä¸€èˆ¬æ™®é€šç”¨æˆ·åªæœ‰åªè¯»å’Œæ‰§è¡Œæƒé™ï¼Œæ— ä¿®æ”¹æƒé™



### su & exit

```
åˆ‡æ¢åˆ°rootç”¨æˆ·
è¯­æ³•ï¼šsu [-] [ç”¨æˆ·å]
```

- -å¯é€‰ï¼Œä¸€èˆ¬å¸¦ä¸Š
- [ç”¨æˆ·å]ï¼Œå¦‚æœçœç•¥ï¼Œè¡¨ç¤ºåˆ‡æ¢åˆ°rootç”¨æˆ·
- exitç”¨æ¥é€€å‡ºå½“å‰ç”¨æˆ·ï¼Œå¿«æ·é”®**ctrl + d**



### sudo

ä¸å»ºè®®é•¿æœŸä½¿ç”¨rootç”¨æˆ·ï¼Œé¿å…æŸåç³»ç»Ÿã€‚

sudoå‘½ä»¤å¯ä»¥ä¸ºæ™®é€šçš„å‘½ä»¤æˆæƒï¼ˆ5minsï¼‰ï¼Œä¸´æ—¶ä½¿ç”¨rootç”¨æˆ·æ‰§è¡Œå‘½ä»¤ã€‚

```
è¯­æ³•ï¼šsudo å…¶ä»–å‘½ä»¤
```

æœ‰ä¸€äº›æ™®é€šç”¨æˆ·å¹¶æ²¡æœ‰æƒåˆ©ä½¿ç”¨sudoï¼Œéœ€è¦æœºå‹sudoè®¤è¯ï¼ˆè¯·ç§»æ­¥ç™¾åº¦ï¼‰ã€‚



## ç”¨æˆ·æƒé™

| æƒé™ | ç¼©å†™        | æ•°å­—ä»£å· |
| ---- | ----------- | -------- |
| è¯»   | rï¼ˆreadï¼‰   | 4        |
| å†™   | wï¼ˆwriteï¼‰  | 2        |
| æ‰§è¡Œ | xï¼ˆexcuteï¼‰ | 1        |

![image-20250303182523687](C:\dataD\SCUStudy\Interesting-small-Knowledge\Linux\Linuxå¸¸ç”¨å‘½ä»¤.assets\image-20250303182523687.png)

æ–‡ä»¶ï¼ˆæˆ–ç›®å½•ï¼‰ï¼›æ‹¥æœ‰è€…ï¼Œç»„ï¼Œå…¶ä»–ç”¨æˆ·çš„æƒé™ï¼›ç¡¬é“¾æ¥æ•°ï¼ˆè¡¨ç¤ºè®¿é—®è¯¥æ–‡ä»¶æˆ–ç›®å½•çš„æ–¹å¼æ•°é‡ï¼‰ï¼›ç„¶åæ˜¯æ‹¥æœ‰è€…ï¼Œç»„åç§°ï¼›æ–‡ä»¶ï¼ˆç›®å½•ï¼‰å¤§å°ï¼›åˆ›å»ºæ—¶é—´ï¼›åç§°ã€‚



### chmod

[ chmod ](https://www.runoob.com/linux/linux-comm-chmod.html)ç”¨äºä¿®æ”¹ç”¨æˆ·/ç»„ å¯¹æ–‡ä»¶/ç›®å½•çš„æƒé™

```

chmod +/-/= rwx æ–‡ä»¶å/ç›®å½•å
åŒæ—¶å¯ä»¥ä½¿ç”¨0-7æ•°å­—æ¥æŒ‡å®šæƒé™ï¼Œç”¨ugoæ¥æŒ‡å®šç¡®å®šçš„æƒé™å¯¹è±¡ï¼ˆè¯¦æƒ…è§ä¸Šé¢é“¾æ¥ï¼‰
```

- chmod æ›´æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™

  - chmod a+x test.sh  ä¸ºè„šæœ¬æ–‡ä»¶test.shçš„æ‰€æœ‰ç”¨æˆ·å¢åŠ å¯æ‰§è¡Œå±æ€§
  - chmod oâ€“rwx test  å–æ¶ˆå…¶ä»–ç”¨æˆ·å¯¹ç›®å½•testçš„è¯»ã€å†™å’Œæ‰§è¡Œæƒé™
  - chmod 755 file1  è®¾ç½®æ‰€æœ‰è€…å®Œå…¨æƒé™ï¼ˆ7 = 4+2+1ï¼‰ï¼Œç»„å’Œå…¶ä»–ç”¨æˆ·çš„è¯»å’Œæ‰§è¡Œæƒé™ï¼ˆ5 = 4+1ï¼‰ã€‚

- chown æ”¹å˜æ–‡ä»¶æˆ–ç›®å½•çš„å±ä¸»å’Œå±ç»„

  - chown user1 file1  å°†æ–‡ä»¶file1çš„å±ä¸»æ”¹ä¸ºuser1

  

**æ³¨æ„ï¼š**æ–‡ä»¶å’Œç›®å½•çš„rwxæƒé™å¯¹åº”æœ‰ä¸€äº›å·®åˆ«



### ç»„ç®¡ç†

**æç¤ºï¼š** **åˆ›å»ºç»„/åˆ é™¤ç»„** çš„å‘½ä»¤éƒ½éœ€è¦é€šè¿‡ `sudo` æ‰§è¡Œ

| å‘½ä»¤                      | ä½œç”¨                  |
| ------------------------- | --------------------- |
| groupadd ç»„å             | æ·»åŠ                   |
| groupdel ç»„å             | åˆ é™¤                  |
| cat/etc/group             | ç¡®è®¤ç»„ä¿¡æ¯            |
| chgrp -R ç»„å æ–‡ä»¶/ç›®å½•å | ä¿®æ”¹æ–‡ä»¶/ç›®å½•çš„æ‰€å±ç»„ |

- ç»„ä¿¡æ¯ä¿å­˜åœ¨ /etc/group æ–‡ä»¶ä¸­
- /etc ç›®å½•æ˜¯ä¸“é—¨ç”¨æ¥ä¿å­˜**ç³»ç»Ÿé…ç½®ä¿¡æ¯**çš„ç›®å½•



## ç”¨æˆ·ç®¡ç†



### åˆ›å»ºç”¨æˆ·/è®¾ç½®å¯†ç /åˆ é™¤ç”¨æˆ·



| å‘½ä»¤                           | ä½œç”¨         | è¯´æ˜                                                         |
| ------------------------------ | ------------ | ------------------------------------------------------------ |
| useradd -m -g ç»„ æ–°å»ºç”¨æˆ·å    | æ·»åŠ ç”¨æˆ·     | 1.-m è‡ªåŠ¨åˆ›å»ºç”¨æˆ·å®¶ç›®å½•2.-g æŒ‡å®šç”¨æˆ·æ‰€åœ¨çš„ç»„ï¼Œå¦åˆ™è‡ªåŠ¨å»ºç«‹ä¸€ä¸ªä¸ç”¨æˆ·åŒåçš„ç»„ |
| passwd ç”¨æˆ·å                  | è®¾ç½®ç”¨æˆ·å¯†ç  | æ™®é€šç”¨æˆ·passwdå¯ä»¥ä¿®æ”¹è‡ªå·±çš„è´¦æˆ·å¯†ç                          |
| userdel -r ç”¨æˆ·å              | åˆ é™¤ç”¨æˆ·     | -r é€‰é¡¹ä¼šè‡ªåŠ¨åˆ é™¤ç”¨æˆ·å®¶ç›®å½•                                  |
| cat /etc/passwd \| grep ç”¨æˆ·å | ç¡®è®¤ç”¨æˆ·ä¿¡æ¯ | æ–°å»ºç”¨æˆ·åï¼Œç”¨æˆ·ä¿¡æ¯ä¼šä¿å­˜åœ¨/etc/passwdæ–‡ä»¶ä¸­                |



### æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯



| å‘½ä»¤      | ä½œç”¨                                       |
| --------- | ------------------------------------------ |
| id ç”¨æˆ·å | æŸ¥çœ‹ç”¨æˆ·UIDï¼ˆç”¨æˆ·ä»£å·ï¼‰å’ŒGIDï¼ˆç»„ä»£å·ï¼‰ä¿¡æ¯ |
| who       | æŸ¥çœ‹å½“å‰æ‰€æœ‰ç™»å½•çš„ç”¨æˆ·åˆ—è¡¨                 |
| whoami    | æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·çš„è´¦æˆ·å                   |



### whichï¼ˆï¼ï¼‰

- æŸ¥çœ‹å‘½ä»¤æ‰€åœ¨çš„è·¯å¾„



### åˆ‡æ¢ç”¨æˆ·

| å‘½ä»¤      | ä½œç”¨                   | è¯´æ˜                                                         |
| --------- | ---------------------- | ------------------------------------------------------------ |
| su - ç”¨æˆ· | åˆ‡æ¢ç”¨æˆ·ï¼ŒåŒæ—¶åˆ‡æ¢ç›®å½• | - å¯ä»¥åˆ‡æ¢åˆ°ç”¨æˆ·ç›®å½•ï¼Œå¦åˆ™ä¿æŒä½ç½®ä¸å˜ï¼Œä¸æ¥ç”¨æˆ·åï¼Œç›´æ¥åˆ‡æ¢åˆ°root |
| exit      | é€€å‡ºå½“å‰ç™»å½•è´¦æˆ·       |                                                              |



![image-20250303205515618](C:\dataD\SCUStudy\Interesting-small-Knowledge\Linux\Linuxå¸¸ç”¨å‘½ä»¤.assets\image-20250303205515618.png)



### ä¿®æ”¹æ–‡ä»¶æƒé™

| å‘½ä»¤  | æ ¼å¼                        | ä½œç”¨       |
| ----- | --------------------------- | ---------- |
| chown | chown ç”¨æˆ·å æ–‡ä»¶å/ç›®å½•å  | ä¿®æ”¹æ‹¥æœ‰è€… |
| chgrp | chgrp -R ç»„å æ–‡ä»¶å/ç›®å½•å | ä¿®æ”¹ç»„     |
| chmod | chmod -R 755 æ–‡ä»¶å/ç›®å½•å  | ä¿®æ”¹æƒé™   |





# ç³»ç»Ÿä¿¡æ¯



### 01 æ—¶é—´å’Œæ—¥æœŸ

| å‘½ä»¤ | ä½œç”¨                                     |
| ---- | ---------------------------------------- |
| date | æŸ¥çœ‹ç³»ç»Ÿæ—¶é—´                             |
| cal  | calendaræŸ¥çœ‹æ—¥å†ï¼Œ -y å¯ä»¥æŸ¥çœ‹ä¸€å¹´çš„æ—¥å† |



### 02 ç£ç›˜ç®¡ç†

| å‘½ä»¤           |                          | ä½œç”¨                            |
| -------------- | ------------------------ | ------------------------------- |
| df -h          | -h ç©ºé—´å¤§å°ç”¨Kï¼ŒMï¼ŒGè¡¨ç¤º | disk free æ˜¾ç¤ºç£ç›˜å‰©ä½™ç©ºé—´      |
| du -h [ç›®å½•å] |                          | disk usage æ˜¾ç¤ºç›®å½•ä¸‹çš„æ–‡ä»¶å¤§å° |
| mount          |                          | æŒ‚è£…æ–‡ä»¶ç³»ç»Ÿ                    |
| umount         |                          | è§£æŒ‚æ–‡ä»¶ç³»ç»Ÿ                    |



### 03 è¿›ç¨‹ä¿¡æ¯



| å‘½ä»¤               | ä½œç”¨                                 |
| ------------------ | ------------------------------------ |
| ps aux             | process status æŸ¥çœ‹è¿›ç¨‹çš„è¯¦ç»†çŠ¶å†µ    |
| top                | åŠ¨æ€æ˜¾ç¤ºè¿è¡Œä¸­çš„è¿›ç¨‹å¹¶æ’åºï¼ˆq é€€å‡ºï¼‰ |
| kill [-9] è¿›ç¨‹ä»£å· | ç»ˆæ­¢æŒ‡å®šä»£å·çš„è¿›ç¨‹ï¼Œ-9 è¡¨ç¤ºå¼ºè¡Œç»ˆæ­¢  |



- psåªä¼šæ˜¾ç¤ºå½“å‰ç”¨æˆ·é€šè¿‡ç»ˆç«¯å¯åŠ¨çš„åº”ç”¨ç¨‹åº

| é€‰é¡¹ | å«ä¹‰                                     |
| ---- | ---------------------------------------- |
| a    | æ˜¾ç¤ºç»ˆç«¯ä¸Šæ‰€æœ‰çš„è¿›ç¨‹ï¼ŒåŒ…æ‹¬å…¶ä»–ç”¨æˆ·çš„è¿›ç¨‹ |
| u    | æ˜¾ç¤ºè¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯                       |
| x    | æ˜¾ç¤ºæ²¡æœ‰æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹                   |





å¼ºåº¦æ¥äº†ï¼ˆè¿™éƒ¨åˆ†çŸ¥è¯†åŸºæœ¬æ˜¯å­¦OSçš„æ—¶å€™æ¶‰åŠï¼Œå¦‚æœä½ æ˜¯CSä¸“ä¸šï¼Œå½“ç„¶ä¸å½±å“**å·ç‹**è¯»è€…è‡ªè¡Œå­¦ä¹ :smile:ï¼‰



# Linuxè¿›ç¨‹



ï¼ˆ1ï¼‰**äº¤äº’è¿›ç¨‹ï¼š**ç”±ä¸€ä¸ªshellå¯åŠ¨çš„è¿›ç¨‹ã€‚äº¤äº’è¿›ç¨‹æ—¢å¯åœ¨å‰å°è¿è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨åå°è¿è¡Œï¼Œå‰è€…ç§°ä¸ºå‰å°è¿›ç¨‹ï¼Œåè€…ç§°ä¸ºåå°è¿›ç¨‹ã€‚

ï¼ˆ2ï¼‰**æ‰¹å¤„ç†è¿›ç¨‹ï¼š**è¿™ç§è¿›ç¨‹å’Œç»ˆç«¯æ²¡æœ‰è”ç³»ï¼Œæ˜¯ä¸€ä¸ªè¿›ç¨‹ç³»åˆ—ï¼Œç”±å¤šä¸ªè¿›ç¨‹æŒ‰ç…§æŒ‡å®šçš„æ–¹å¼æ‰§è¡Œã€‚

ï¼ˆ3ï¼‰**å®ˆæŠ¤è¿›ç¨‹ï¼ˆDaemonï¼‰**ï¼šè¿è¡Œåœ¨åå°çš„ä¸€ç§ç‰¹æ®Šè¿›ç¨‹ï¼Œå®ƒåœ¨ç³»ç»Ÿå¯åŠ¨æ—¶å¯åŠ¨ï¼Œå¹¶åœ¨åå°è¿è¡Œã€‚



## Linuxè¿›ç¨‹çŠ¶æ€



- **è¿è¡Œæ€ï¼ˆTASK_RUNNINGï¼‰**ï¼šè¿›ç¨‹å‡†å¤‡è¿è¡Œï¼Œæˆ–æ­£åœ¨è¿è¡Œ
- **å¯ä¸­æ–­ç­‰å¾…æ€ï¼ˆTASK_INTERRUPTIBLEï¼‰**ï¼šè¿›ç¨‹ç­‰å¾…ç‰¹å®šäº‹ä»¶
- **ä¸å¯ä¸­æ–­ç­‰å¾…æ€ï¼ˆTASK_UNINTERRUPTIBLEï¼‰**ï¼šè¿›ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼Œä½†æ˜¯æ­¤åˆ»è¿›ç¨‹æ˜¯ä¸å¯ä¸­æ–­çš„
- **åƒµå°¸æ€ï¼ˆTASK_ZOMBIEï¼‰**ï¼šè¿›ç¨‹å·²ç»åœæ­¢è¿è¡Œï¼Œä½†åœ¨å†…å­˜ä»æœ‰ç»“æ„(task_struct)
- **åœæ­¢æ€ï¼ˆTASK_STOPPED/ TASK_TRACED ï¼‰**ï¼šè¿›ç¨‹æš‚åœçŠ¶æ€



## Linux ä¸‰ç§èµ„æºæ‹·è´æ–¹å¼



- å…±äº«ï¼šå…±äº«åŒä¸€èµ„æºï¼Œå¦‚è™šå­˜ç©ºé—´ã€æ–‡ä»¶ç­‰ã€‚ä»…å¢åŠ æœ‰å…³æè¿°ç¬¦çš„ç”¨æˆ·è®¡æ•°å™¨ã€‚
- ç›´æ¥æ‹·è´ï¼šç›¸åŒçš„ç»“æ„ï¼ŒåŸæ ·å¤åˆ¶ã€‚
- **COW(Copy On Writeï¼Œå†™æ—¶æ‹·è´)**ï¼šåœ¨éœ€è¦çš„æ—¶å€™æ‰å¤åˆ¶ã€‚



Linuxæä¾›äº†ä¸‰ä¸ªåˆ›å»ºè¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨ï¼š

- fork()	  ç”¨äºæ™®é€šè¿›ç¨‹çš„åˆ›å»ºï¼Œé‡‡ç”¨COWæ–¹å¼ã€‚
- vfork()	 å®Œå…¨å…±äº«çš„åˆ›å»ºï¼Œå…±äº«åŒä¸€èµ„æºã€‚
- clone()	ç”±ç”¨æˆ·æŒ‡å®šåˆ›å»ºçš„æ–¹å¼ã€‚



## Linuxè¿›ç¨‹æ§åˆ¶å‡½æ•°



### è¿›ç¨‹åˆ›å»º----forkï¼ˆï¼‰

- fork ()å‡½æ•°é€šè¿‡ç³»ç»Ÿè°ƒç”¨åˆ›å»ºä¸€ä¸ªä¸åŸæ¥è¿›ç¨‹å‡ ä¹å®Œå…¨ç›¸åŒçš„è¿›ç¨‹
  - ä¸¤ä¸ªè¿›ç¨‹å¯ä»¥åšå®Œå…¨ç›¸åŒçš„äº‹
  - æ ¹æ®åˆå§‹å‚æ•°æˆ–è€…ä¼ å…¥çš„å˜é‡ä¸åŒï¼Œä¸¤ä¸ªè¿›ç¨‹ä¹Ÿå¯ä»¥åšä¸åŒçš„äº‹ã€‚
- ä¸€ä¸ªè¿›ç¨‹è°ƒç”¨fork()å‡½æ•°åï¼Œç³»ç»Ÿå…ˆç»™æ–°çš„è¿›ç¨‹åˆ†é…èµ„æºï¼Œä¾‹å¦‚å­˜å‚¨æ•°æ®å’Œä»£ç çš„ç©ºé—´ã€‚ç„¶åæŠŠåŸæ¥çš„è¿›ç¨‹çš„æ‰€æœ‰å€¼éƒ½å¤åˆ¶åˆ°æ–°çš„è¿›ç¨‹ä¸­ï¼Œåªæœ‰å°‘æ•°å€¼ä¸åŸæ¥çš„è¿›ç¨‹çš„å€¼ä¸åŒã€‚ç›¸å½“äºå…‹éš†äº†ä¸€ä¸ªè‡ªå·±ã€‚

- fork()çš„ä¸€ä¸ªå¥‡å¦™ä¹‹å¤„å°±æ˜¯å®ƒä»…ä»…è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œå´èƒ½å¤Ÿè¿”å›ä¸¤æ¬¡ï¼Œå®ƒå¯èƒ½æœ‰ä¸‰ç§ä¸åŒçš„è¿”å›å€¼ï¼š

  â‘ ï¼ˆ>0ï¼‰åœ¨çˆ¶è¿›ç¨‹ä¸­ï¼Œforkè¿”å›æ–°åˆ›å»ºå­è¿›ç¨‹çš„è¿›ç¨‹IDï¼›

  â‘¡ï¼ˆ=0ï¼‰åœ¨å­è¿›ç¨‹ä¸­ï¼Œforkè¿”å›0ï¼›

  â‘¢ï¼ˆ<0ï¼‰å¦‚æœå‡ºç°é”™è¯¯ï¼Œforkè¿”å›ä¸€ä¸ªè´Ÿå€¼ï¼›

- fork ()å‡ºé”™å¯èƒ½æœ‰ä¸¤ç§åŸå› ï¼š

  â‘ å½“å‰çš„è¿›ç¨‹æ•°å·²ç»è¾¾åˆ°äº†ç³»ç»Ÿè§„å®šçš„ä¸Šé™ï¼Œè¿™æ—¶errnoçš„å€¼è¢«è®¾ç½®ä¸ºEAGAINã€‚

  â‘¡ç³»ç»Ÿå†…å­˜ä¸è¶³ï¼Œè¿™æ—¶errnoçš„å€¼è¢«è®¾ç½®ä¸ºENOMEMã€‚



## è¿›ç¨‹æ ‡è¯†ç¬¦ç®¡ç†

```c
int getpid();	//å–å¾—å½“å‰è¿›ç¨‹çš„æ ‡è¯†ç¬¦ï¼ˆè¿›ç¨‹IDï¼‰ã€‚
int getppid();	//å–å¾—å½“å‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹IDã€‚
int getpgrp(); 	//å–å¾—å½“å‰è¿›ç¨‹çš„è¿›ç¨‹ç»„æ ‡è¯†ç¬¦ã€‚
int getpgid(int pid); 	//å°†å½“å‰è¿›ç¨‹çš„è¿›ç¨‹ç»„æ ‡è¯†ç¬¦æ”¹ä¸ºå½“å‰è¿›ç¨‹çš„è¿›ç¨‹IDï¼Œä½¿å…¶æˆä¸ºè¿›ç¨‹ç»„é¦–è¿›ç¨‹ï¼Œå¹¶è¿”å›è¿™ä¸€æ–°çš„è¿›ç¨‹ç»„æ ‡è¯†ç¬¦ã€‚
```



## wait()/waitpid()å‡½æ•°ğŸ˜‰ 

- ä½œç”¨ï¼šçˆ¶è¿›ç¨‹æŸ¥è¯¢å­è¿›ç¨‹çŠ¶æ€
- è¿›ç¨‹ä¸€æ—¦è°ƒç”¨äº†wait()ï¼Œå°±ç«‹å³é˜»å¡è‡ªå·±ï¼Œç”±wait()è‡ªåŠ¨åˆ†ææ˜¯å¦å½“å‰è¿›ç¨‹çš„æŸä¸ªå­è¿›ç¨‹å·²ç»é€€å‡ºï¼Œå¦‚æœè®©å®ƒæ‰¾åˆ°äº†è¿™æ ·ä¸€ä¸ªå·²ç»å˜æˆåƒµå°¸æ€çš„å­è¿›ç¨‹ï¼Œwait ()å°±ä¼šæ”¶é›†è¿™ä¸ªå­è¿›ç¨‹çš„ä¿¡æ¯ï¼Œå¹¶æŠŠå®ƒå½»åº•é”€æ¯åè¿”å›ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°è¿™æ ·ä¸€ä¸ªå­è¿›ç¨‹ï¼Œwait ()å°±ä¼šä¸€ç›´é˜»å¡åœ¨è¿™é‡Œï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå‡ºç°ä¸ºæ­¢ã€‚
- **wait()è¦ä¸fork()é…å¥—å‡ºç°**ï¼Œå¦‚æœåœ¨ä½¿ç”¨fork()ä¹‹å‰è°ƒç”¨wait()ï¼Œwait()çš„è¿”å›å€¼åˆ™ä¸º-1ï¼Œæ­£å¸¸æƒ…å†µä¸‹wait()çš„è¿”å›å€¼ä¸ºå­è¿›ç¨‹çš„PID
- å½“**çˆ¶è¿›ç¨‹æ²¡æœ‰ä½¿ç”¨wait()å‡½æ•°ç­‰å¾…å·²ç»ˆæ­¢çš„å­è¿›ç¨‹**æ—¶,å­è¿›ç¨‹å°±ä¼šè¿›å…¥ä¸€ç§æ— çˆ¶è¿›ç¨‹æ¸…ç†è‡ªå·±å°¸ä½“çš„çŠ¶æ€ï¼Œæ­¤æ—¶çš„å­è¿›ç¨‹å°±æ˜¯åƒµå°¸è¿›ç¨‹ï¼Œä¸èƒ½åœ¨å†…æ ¸ä¸­æ¸…ç†å°¸ä½“çš„æƒ…å†µ



## åŠ è½½æ–°çš„è¿›ç¨‹æ˜ åƒâ€”â€”execå‡½æ•°æ—

- åˆ›å»ºçš„è¿›ç¨‹å¾€å¾€å¸Œæœ›å®ƒèƒ½æ‰§è¡Œæ–°çš„ç¨‹åºï¼Œåœ¨Linuxä¸­ï¼Œè¿›ç¨‹åˆ›å»ºå’ŒåŠ è½½æ–°è¿›ç¨‹æ˜ åƒæ˜¯åˆ†ç¦»æ“ä½œçš„ã€‚
- åœ¨Linuxä¸­ï¼Œå½“åˆ›å»ºä¸€ä¸ªè¿›ç¨‹åï¼Œé€šå¸¸ä½¿ç”¨execç³»åˆ—å‡½æ•°å°†å­è¿›ç¨‹æ›¿æ¢æˆæ–°çš„è¿›ç¨‹æ˜ åƒã€‚
- æ³¨æ„ï¼šLinuxä¸­å¹¶ä¸å­˜åœ¨ä¸€ä¸ªexec()çš„å‡½æ•°å½¢å¼ï¼ŒexecæŒ‡çš„æ˜¯ä¸€ç»„å‡½æ•°ï¼Œä¸€å…±æœ‰6ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š

```c
#include <unistd.h> 
int execl(const char *path, const char *arg, ...); 
int execlp(const char *file, const char *arg, ...); 
int execle(const char *path, const char *arg, ..., char *const envp[]); 
int execv(const char *path, char *const argv[]); 
int execvp(const char *file, char *const argv[]); 
int execve(const char *path, char *const argv[], char *const envp[]);
å…¶ä¸­ï¼Œåªæœ‰execve()æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„ç³»ç»Ÿè°ƒç”¨ï¼Œå…¶å®ƒéƒ½æ˜¯åœ¨æ­¤åŸºç¡€ä¸Šç»è¿‡åŒ…è£…çš„åº“å‡½æ•°
```



- execå‡½æ•°æ—çš„ä½œç”¨æ˜¯**æ ¹æ®æŒ‡å®šçš„æ–‡ä»¶åæ‰¾åˆ°å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶ç”¨å®ƒæ¥å–ä»£è°ƒç”¨è¿›ç¨‹çš„å†…å®¹**ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯åœ¨è°ƒç”¨è¿›ç¨‹å†…éƒ¨æ‰§è¡Œä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚è¿™é‡Œçš„å¯æ‰§è¡Œæ–‡ä»¶æ—¢å¯ä»¥æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»»ä½•Linuxä¸‹å¯æ‰§è¡Œçš„è„šæœ¬æ–‡ä»¶ã€‚
- ä¸ä¸€èˆ¬æƒ…å†µä¸åŒï¼Œ**execå‡½æ•°æ—çš„å‡½æ•°æ‰§è¡ŒæˆåŠŸåä¸ä¼šè¿”å›ï¼Œå› ä¸ºè°ƒç”¨è¿›ç¨‹çš„å®ä½“ï¼ŒåŒ…æ‹¬ä»£ç æ®µï¼Œæ•°æ®æ®µå’Œå †æ ˆç­‰éƒ½å·²ç»è¢«æ–°çš„å†…å®¹å–ä»£**ï¼Œåªç•™ä¸‹è¿›ç¨‹IDç­‰ä¸€äº›è¡¨é¢ä¸Šçš„ä¿¡æ¯ä»ä¿æŒåŸæ ·ã€‚



:sunny::sunny::sunny:å¦‚æœä½ éœ€è¦ä¸€äº›ç»ƒä¹ ï¼Œè¿™é‡Œæä¾›äº†å°‘é‡çš„é¢˜ç›®ï¼š

ï¼ˆ1ï¼‰ç¼–å†™ä¸€ä¸ªC ç¨‹åºï¼Œå¹¶ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨fork()åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ã€‚è¦æ±‚å¦‚ä¸‹ï¼šâ‘ åœ¨å­è¿›ç¨‹ä¸­åˆ†åˆ«è¾“å‡ºå½“å‰è¿›ç¨‹ä¸ºå­è¿›ç¨‹çš„æç¤ºã€å½“å‰è¿›ç¨‹çš„PID å’Œçˆ¶è¿›ç¨‹çš„PIDã€æ ¹æ®ç”¨æˆ·è¾“å…¥ç¡®å®šå½“å‰è¿›ç¨‹çš„è¿”å›å€¼ã€é€€å‡ºæç¤ºç­‰ä¿¡æ¯ã€‚â‘¡åœ¨çˆ¶è¿›ç¨‹ä¸­åˆ†åˆ«è¾“å‡ºå½“å‰è¿›ç¨‹ä¸ºçˆ¶è¿›ç¨‹çš„æç¤ºã€å½“å‰è¿›ç¨‹çš„PID å’Œå­è¿›ç¨‹çš„PIDã€ç­‰å¾…å­è¿›ç¨‹é€€å‡ºåè·å¾—çš„è¿”å›å€¼ã€é€€å‡ºæç¤ºç­‰ä¿¡æ¯ã€‚

```c
#include <unistd.h>
#include <sys/types.h>
#include <errno.h>
#include <sys/wait.h>
#include <stdlib.h>
#include <stdio.h>

int main() {
    pid_t childpid;
    int retval;
    int status;

    childpid = fork(); // å­è¿›ç¨‹ä»è¿™é‡Œå¼€å§‹æ‰§è¡Œï¼Œå¤åˆ¶äº†çˆ¶è¿›ç¨‹çš„æ‰€æœ‰çŠ¶æ€ï¼ŒåŒ…æ‹¬å˜é‡

    if (childpid >= 0) {
        if (childpid == 0) {
            // å­è¿›ç¨‹é€»è¾‘
            printf("CHILD: I am the child process!\n");
            printf("CHILD: Here's my PID: %d\n", getpid());         // è·å–å­è¿›ç¨‹ PID
            printf("CHILD: My parent's PID is: %d\n", getppid());    // è·å–çˆ¶è¿›ç¨‹ PID
            printf("CHILD: The value of fork return is: %d\n", childpid);
            printf("CHILD: Sleep for 1 second...\n");
            sleep(1);
            printf("CHILD: Enter an exit value (0~255): ");
            scanf("%d", &retval);
            printf("CHILD: Goodbye!\n");
            exit(retval);  // å­è¿›ç¨‹è¿”å›ç”¨æˆ·æŒ‡å®šçš„é€€å‡ºç 
        } else {
            // çˆ¶è¿›ç¨‹é€»è¾‘
            printf("Parent: I am the parent process!\n");
            printf("Parent: Here's my PID: %d\n", getpid());         // è·å–çˆ¶è¿›ç¨‹ PID
            printf("Parent: The value of my child's PID is: %d\n", childpid);
            printf("Parent: I will now wait for my child to exit.\n");

            wait(&status);  // ç­‰å¾…å­è¿›ç¨‹ç»“æŸï¼Œå¹¶è·å–é€€å‡ºçŠ¶æ€

            printf("Parent: Child's exit code is: %d\n", WEXITSTATUS(status));
            printf("Parent: Goodbye!\n");
            exit(0);
        }
    } else {
        // forkå¤±è´¥
        perror("fork error!");
        exit(1);
    }
}

```

ï¼ˆ2ï¼‰ç¼–å†™å¦ä¸€ä¸ªC ç¨‹åºï¼Œä½¿ç”¨ç³»ç»Ÿè°ƒç”¨fork()ä»¥åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œå¹¶ä½¿ç”¨è¿™ä¸ªå­è¿›ç¨‹è°ƒç”¨exec å‡½æ•°æ—ä»¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤lsã€‚
