# Linux基础知识



## 登录与用户

登录：输入用户名和密码

注销：

- 输入logout
- Ctrl + D

用户提示：

- 超级用户：**#**
- 普通用户：**$**



## 关机和重启

​	关机和重启其实都是切换运行级别

关机：

- init 0
- halt
- shutdown -h +5

重启：

- init 6
- reboot
- shutdown -r +5

shutdown命令：

- -k 只是警告，不实际关机
- -r 关机后重新启动
- -h 关闭系统



```
ctrl + 放大字体 
ctrl - 减小字体
```



# Linux常用命令

| 命令         | 英文                 | 作用                   |
| ------------ | -------------------- | ---------------------- |
| ls           | list                 | 查看当前文件夹下的内容 |
| pwd          | print work directory | 输出当前目录路径       |
| cd 目录名    | change directory     | 切换文件夹             |
| touch 文件名 |                      | 如果文件不存在，新建   |
| mkdir 目录名 | make directory       | 创建目录               |
| rm 文件名    | remove               | 删除文件夹             |
| clear        |                      | 清屏                   |
|              |                      |                        |



## 文件和目录命令

| 命令                                                    | 英文        | 作用                                                        |
| ------------------------------------------------------- | ----------- | ----------------------------------------------------------- |
| ls                                                      |             |                                                             |
| cd                                                      |             |                                                             |
| touch                                                   |             |                                                             |
| rm                                                      |             |                                                             |
| mkdir                                                   |             |                                                             |
| [ cp](https://www.runoob.com/linux/linux-comm-cp.html)  | copy file   | 复制文件或目录                                              |
| [ mv](https://www.runoob.com/linux/linux-comm-mv.html)  | move file   | 文件或目录改名、或将文件或目录移入其它位置                  |
| [cat](https://www.runoob.com/linux/linux-comm-cat.html) | concatenate | 查看和连接文件                                              |
| more                                                    |             | 类似 cat ，不过会以一页一页的形式显示，更方便使用者逐页阅读 |
| .                                                       |             | 当前目录                                                    |
| ..                                                      |             | 上级目录                                                    |
|                                                         |             | 以 . 开头的文件是隐藏文件，需要参数 -a 才能看到             |



### ls常用选项&通配符使用

| 参数 | 含义                                             |
| ---- | ------------------------------------------------ |
| -a   | 显示指定目录下所有子目录与文件，包括**隐藏文件** |
| -l   | 以列表的方式显示文件的详细信息                   |
| -h   | 显示文件大小（K，M，G）                          |

| 通配符 | 含义                       |
| ------ | -------------------------- |
| *      | 代表任意个数个字符         |
| ？     | 代表任意一个字符，至少一个 |
| []     | 可以匹配字符组中的任意一个 |
| [abc]  | 匹配a，b，c中的任意一个    |
| [a-e]  | 匹配从a到e范围中的任意一个 |



### cd

| 命令       | 含义                                     |
| ---------- | ---------------------------------------- |
| cd（cd ~） | 切换到当前用户的主目录（/home/用户目录） |
| cd .       | 保持在当前目录                           |
| cd ..      | 切换到上级目录                           |
| cd -       | 最近两次目录之间来回切换                 |
|            |                                          |



### rm

- 使用时注意，rm删除的文件（夹）**无法恢复**！

| 选项 | 含义                                                   |
| ---- | ------------------------------------------------------ |
| -f   | 强制删除，无提示信息                                   |
| -r   | 递归地删除目录下的内容，**删除文件夹**时必须使用此参数 |





## 拷贝和移动文件

| 命令               | 英文 | 作用                     |
| ------------------ | ---- | ------------------------ |
| tree [目录名]      | tree | 输出目录结构             |
| cp 源文件 目标文件 | copy | 复制文件或者目录         |
| mv 源文件 目标文件 | move | 移动（重命名）文件或目录 |
|                    |      |                          |



### tree

| 选项 | 含义       |
| ---- | ---------- |
| -d   | 只显示目录 |



### cp

| 选项 | 含义                        |
| ---- | --------------------------- |
| -i   | 覆盖文件前有提示            |
| -r   | 复制目录时使用（类似rm -r） |



### mv

| 选项 | 含义           |
| ---- | -------------- |
| -i   | 覆盖文件前提示 |



## 查看文件内容

| 命令                | 英文        | 作用                                 |
| ------------------- | ----------- | ------------------------------------ |
| cat 文件名          | concatenate | 查看，追加文件内容，创建，合并，文件 |
| more 文件名         | more        | 可以分屏显示文件内容                 |
| grep 搜索文本文件名 | grep        | 搜索文本文件内容                     |
|                     |             |                                      |



### cat

| 选项 | 含义         |
| ---- | ------------ |
| -b   | 对非空行编号 |
| -n   | 对所有行编号 |



### more

| 操作健  | 功能           |
| ------- | -------------- |
| 空格键  | 显示下一页     |
| Enter键 | 滚动一行       |
| b       | 回滚一页       |
| f       | 前滚一页       |
| q       | 退出           |
| /word   | 搜索word字符串 |



### grep（强大的文本搜索）

- grep是Linux中一个强大的文本搜索工具

- grep允许对文本文件进行正则表达式查找

| 选项 | 含义                               |
| ---- | ---------------------------------- |
| -n   | 显示匹配行以及行号                 |
| -v   | 显示不包含匹配文本的所有行（取反） |
| -i   | 忽略大小写                         |
|      |                                    |

- 常用的模式查找

| 参数 | 含义                |
| ---- | ------------------- |
| ^a   | 搜索以a**开头**的行 |
| b$   | 搜索以b**结尾**的行 |



## 其他



### echo（！）

- 在终端中显示参数指定的文字，通常和**重定向**结合使用



### 重定向（！）

- Linux可以将命令执行结果重定向到一个文件
- 重定向将在**终端上的内容 输出/追加**到指定文件中

| 操作键 | 作用                       |
| ------ | -------------------------- |
| >      | 输出，会覆盖文件原有的内容 |
| >>     | 将内容追加到已有文件的末尾 |



### 管道 |

- Linux可以将一个命令的输出 通过管道 作为另一个命令的输入 

常用的管道命令：

- more：分屏显示内容
- grep：在命令执行结果的同时查询指定文本







# vim编辑器

三种模式：

| 模式     | 含义                                         |
| -------- | -------------------------------------------- |
| 命令模式 | 所有输入为命令，执行不同的功能，无法文本编辑 |
| 输入模式 | 可自由编辑                                   |
| 底线模式 | 以 ：开始，用于文件的保存和退出              |

![image-20250227155537040](C:\dataD\SCUStudy\Interesting-small-Knowledge\Linux常用命令.assets\image-20250227155537040.png)



**其他等用到再补充**



## 常用的备份压缩命令

- tar 文件,目录打/解包：
  - tar -zcvf myusr.tar.gz mydoc 将mydoc目录打包后压缩,调用gzip压缩工具
  - tar -zxvf myusr.tar.gz 解压
- gzip 压缩或解压文件目录,后缀为 .gz
- compress 压缩或解压文件目录,后缀为 .Z
- bzip2 压缩或解压文件目录,后缀为 .bz2
- zcat 显示压缩的文本文件的内容
- xz 压缩或解压文件目录,后缀为 .xz





# 用户和用户组



## root用户

root用户（超级用户）拥有最大的系统操作权限。

- 在home目录外，一般普通用户只有只读和执行权限，无修改权限



### su & exit

```
切换到root用户
语法：su [-] [用户名]
```

- -可选，一般带上
- [用户名]，如果省略，表示切换到root用户
- exit用来退出当前用户，快捷键**ctrl + d**



### sudo

不建议长期使用root用户，避免损坏系统。

sudo命令可以为普通的命令授权（5mins），临时使用root用户执行命令。

```
语法：sudo 其他命令
```

有一些普通用户并没有权利使用sudo，需要机型sudo认证（请移步百度）。



## 用户权限

| 权限 | 缩写        | 数字代号 |
| ---- | ----------- | -------- |
| 读   | r（read）   | 4        |
| 写   | w（write）  | 2        |
| 执行 | x（excute） | 1        |

![image-20250303182523687](C:\dataD\SCUStudy\Interesting-small-Knowledge\Linux常用命令.assets\image-20250303182523687.png)

文件（或目录）；拥有者，组，其他用户的权限；硬链接数（表示访问该文件或目录的方式数量）；然后是拥有者，组名称；文件（目录）大小；创建时间；名称。



### chmod

[ chmod ](https://www.runoob.com/linux/linux-comm-chmod.html)用于修改用户/组 对文件/目录的权限

```

chmod +/-/= rwx 文件名/目录名
同时可以使用0-7数字来指定权限，用ugo来指定确定的权限对象（详情见上面链接）
```

- chmod 更改文件或目录的权限

  - chmod a+x test.sh  为脚本文件test.sh的所有用户增加可执行属性
  - chmod o–rwx test  取消其他用户对目录test的读、写和执行权限
  - chmod 755 file1  设置所有者完全权限（7 = 4+2+1），组和其他用户的读和执行权限（5 = 4+1）。

- chown 改变文件或目录的属主和属组

  - chown user1 file1  将文件file1的属主改为user1

  

**注意：**文件和目录的rwx权限对应有一些差别



### 组管理

**提示：** **创建组/删除组** 的命令都需要通过 `sudo` 执行

| 命令                      | 作用                  |
| ------------------------- | --------------------- |
| groupadd 组名             | 添加                  |
| groupdel 组名             | 删除                  |
| cat/etc/group             | 确认组信息            |
| chgrp -R 组名 文件/目录名 | 修改文件/目录的所属组 |

- 组信息保存在 /etc/group 文件中
- /etc 目录是专门用来保存**系统配置信息**的目录



## 用户管理



### 创建用户/设置密码/删除用户



| 命令                           | 作用         | 说明                                                         |
| ------------------------------ | ------------ | ------------------------------------------------------------ |
| useradd -m -g 组 新建用户名    | 添加用户     | 1.-m 自动创建用户家目录2.-g 指定用户所在的组，否则自动建立一个与用户同名的组 |
| passwd 用户名                  | 设置用户密码 | 普通用户passwd可以修改自己的账户密码                         |
| userdel -r 用户名              | 删除用户     | -r 选项会自动删除用户家目录                                  |
| cat /etc/passwd \| grep 用户名 | 确认用户信息 | 新建用户后，用户信息会保存在/etc/passwd文件中                |



### 查看用户信息



| 命令      | 作用                                       |
| --------- | ------------------------------------------ |
| id 用户名 | 查看用户UID（用户代号）和GID（组代号）信息 |
| who       | 查看当前所有登录的用户列表                 |
| whoami    | 查看当前登录用户的账户名                   |



### which（！）

- 查看命令所在的路径



### 切换用户

| 命令      | 作用                   | 说明                                                         |
| --------- | ---------------------- | ------------------------------------------------------------ |
| su - 用户 | 切换用户，同时切换目录 | - 可以切换到用户目录，否则保持位置不变，不接用户名，直接切换到root |
| exit      | 退出当前登录账户       |                                                              |



![image-20250303205515618](C:\dataD\SCUStudy\Interesting-small-Knowledge\Linux常用命令.assets\image-20250303205515618.png)



### 修改文件权限

| 命令  | 格式                        | 作用       |
| ----- | --------------------------- | ---------- |
| chown | chown 用户名 文件名/目录名  | 修改拥有者 |
| chgrp | chgrp -R 组名 文件名/目录名 | 修改组     |
| chmod | chmod -R 755 文件名/目录名  | 修改权限   |





# 系统信息



### 01 时间和日期

| 命令 | 作用                                     |
| ---- | ---------------------------------------- |
| date | 查看系统时间                             |
| cal  | calendar查看日历， -y 可以查看一年的日历 |



### 02 磁盘管理

| 命令           |                          | 作用                            |
| -------------- | ------------------------ | ------------------------------- |
| df -h          | -h 空间大小用K，M，G表示 | disk free 显示磁盘剩余空间      |
| du -h [目录名] |                          | disk usage 显示目录下的文件大小 |
| mount          |                          | 挂装文件系统                    |
| umount         |                          | 解挂文件系统                    |



### 03 进程信息



| 命令               | 作用                                 |
| ------------------ | ------------------------------------ |
| ps aux             | process status 查看进程的详细状况    |
| top                | 动态显示运行中的进程并排序（q 退出） |
| kill [-9] 进程代号 | 终止指定代号的进程，-9 表示强行终止  |



- ps只会显示当前用户通过终端启动的应用程序

| 选项 | 含义                                     |
| ---- | ---------------------------------------- |
| a    | 显示终端上所有的进程，包括其他用户的进程 |
| u    | 显示进程的详细信息                       |
| x    | 显示没有控制终端的进程                   |







